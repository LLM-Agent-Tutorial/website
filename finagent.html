<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FinAgent Â· LLM Agent Tutorial</title>
  <link href="libs/bootstrap/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
  <script defer src="libs/bootstrap/bootstrap.bundle.min.js"></script>
  <script defer src="script.js"></script>
  <script defer id="mathjax" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body data-page="finagent" data-nav="capabilities">
    <header class="site-header navbar navbar-expand-lg navbar-light bg-white">
    <div class="inner container-xxl">
      <a class="navbar-brand logo" href="index.html">LLM Agent Tutorial</a>
      <button class="navbar-toggler nav-toggle" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav" aria-controls="mainNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <nav class="collapse navbar-collapse primary-nav" id="mainNav">
        <div class="navbar-nav ms-auto align-items-lg-center gap-2">
          <a class="nav-link" href="index.html" data-nav-target="home">Home</a>
          <a class="nav-link" href="foundations.html" data-nav-target="foundations">Foundations</a>
          <a class="nav-link" href="capabilities.html" data-nav-target="capabilities">Agent Examples</a>
          <a class="nav-link" href="practical-tips.html" data-nav-target="practical">Practical Tips</a>
          <a class="nav-link" href="advanced-knowledge.html" data-nav-target="advanced">Advanced Frontier</a>
          <a class="download-btn nav-download-btn d-lg-none text-center mt-2 mx-auto" href="A Beginner-Friendly Tutorial on LLM-based Agents.pdf" download>Download <span>PDF</span></a>
        </div>
      </nav>
      <a class="download-btn ms-lg-3 d-none d-lg-inline-flex" href="A Beginner-Friendly Tutorial on LLM-based Agents.pdf" download>Download <span>PDF</span></a>
    </div>
  </header>

  <div class="layout container-xxl">
    <div class="row g-4 flex-xl-nowrap">
        <aside class="chapter-sidebar col-12 col-xl-3 col-xxl-3 order-2 order-xl-1">
  <ul class="chapter-links">
    <li><a data-chapter-link="home" href="index.html">Homepage</a></li>
    <li><a data-chapter-link="foundations" href="foundations.html">What You Must Know About LLM Agents</a></li>
    <li><a data-chapter-link="capabilities" href="capabilities.html">What LLM Agents Can Do and How They Work</a></li>
    <li>
      <span class="chapter-parent">Example</span>
      <ul class="sub-chapter-links">
        <li><a data-chapter-link="generative-agents" href="generative-agents.html">Generative Agents</a></li>
        <li><a data-chapter-link="ai-scientist" href="ai-scientist.html">The AI Scientist</a></li>
        <li><a data-chapter-link="cellagent" href="cellagent.html">CellAgent</a></li>
        <li><a data-chapter-link="virtual-lab" href="virtual-lab.html">The Virtual Lab</a></li>
        <li><a data-chapter-link="metagpt" href="metagpt.html">MetaGPT</a></li>
        <li><a data-chapter-link="finagent" href="finagent.html">FinAgent</a></li>
        <li><a data-chapter-link="voyager" href="voyager.html">Voyager</a></li>
        <li><a data-chapter-link="mobile-agent" href="mobile-agent.html">Mobile Agent</a></li>
        <li><a data-chapter-link="palm-saycan" href="palm-saycan.html">PaLM-SayCan</a></li>
      </ul>
    </li>
    <li><a data-chapter-link="practical" href="practical-tips.html">Practical Tips</a></li>
    <li>
      <span class="chapter-parent">Advanced Techniques: What is happening at the frontier</span>
      <ul class="sub-chapter-links">
        <li><a data-chapter-link="adv-knowledge" href="advanced-knowledge.html">Injecting Domain Knowledge</a></li>
        <li><a data-chapter-link="adv-reasoning" href="advanced-reasoning.html">Enhancing Reasoning Capabilities</a></li>
        <li><a data-chapter-link="adv-context" href="advanced-context.html">Managing Long Context</a></li>
        <li><a data-chapter-link="adv-internalize" href="advanced-internalize.html">Internalizing Agent Abilities</a></li>
        <li><a data-chapter-link="adv-safety" href="advanced-safety.html">Agent Safety</a></li>
      </ul>
    </li>
  </ul>
</aside>


    <main class="col-12 col-xl-6 col-xxl-6 order-1 order-xl-2 main-content">
      <section id="fin-overview" class="content-section">
        <h1 class="section-title">FinAgent: A Multimodal Foundation Agent for Financial Trading</h1>
        <div class="resource-links">
          <a class="resource-link" href="https://arxiv.org/pdf/2402.18485" target="_blank" rel="noreferrer">Paper &nearr;</a>
          <a class="resource-link" href="#" target="_blank" rel="noreferrer">GitHub &nearr;</a>
        </div>
        <div class="overview-highlight">
          <p>
            FinAgent is a multimodal foundation agent designed for financial trading that addresses adaptability and generalization through three key components: (i) a market intelligence module, extracting and summarizing key insights from diverse market information, including daily updates on stock news, prices, and monthly and quarterly financial reports; (ii) a reflection module, performing dual-level reflection on market dynamics and past decisions; and (iii) a tool-augmented decision-making module, enhancing trading actions through expert-informed guidance.
          </p>
        </div>
        <figure class="hero-figure">
          <img src="imgs/finagent.png" alt="FinAgent synthesizing market intelligence and reflections" />
          <figcaption>The overall architecture of FinAgent. The ordinal numbers in the figure represent the order of execution, where augmented tools are implemented with the decision-making module.</figcaption>
        </figure>
        <p>We will now use examples and prompt templates to illustrate how FinAgent relies on <strong>role-play</strong>, <strong>memory</strong>, and <strong>reflection</strong> to make informed trading decisions.</p>
      </section>

      <section id="fin-role" class="content-section">
        <h2 class="section-title">Role-play</h2>
        <p>
          FinAgent is guided by a high-level role description that ensures consistent expertise in market analysis and financial decision-making. This role-play specification contains three aspects: the definition of the agent's role, the context of the financial market environment, and the agent's analytical capabilities for trading.
        </p>
        <div class="detail-box detail-box--has-divider">
          <div class="detail-box__header">
            <h4>Example of role-playing as an expert financial trader</h4>
          </div>
          <div class="detail-box__body">
            <p><strong>Role:</strong> You are an expert trader who have sufficient financial experience and provides expert guidance.</p>
            <p><strong>Context:</strong> Imagine working in a real market environment where you have access to various types of information (e.g., daily real-time market price, news, financial reports, professional investment guidance and market sentiment) relevant to financial markets. You will be able to view visual data that contains comprehensive information, including Kline charts accompanied by technical indicators, historical trading curves and cumulative return curves. And there will be some auxiliary strategies providing you with explanations for trading decisions.</p>
            <p><strong>Capabilities:</strong> You are capable of deeply analyzing, understanding, and summarizing information, and use these information to make informed and wise trading decisions (i.e., BUY, HOLD and SELL).</p>
          </div>
        </div>
      </section>

      <section id="fin-memory" class="content-section">
        <h2 class="section-title">Memory</h2>
        <p>
          Memory plays a crucial role in multimodal LLM-based financial trading agents. In FinAgent, the memory module adopts a vector-based storage architecture consisting of three main components: (i) <i>summary of market intelligence</i>, which collects, summarizes, analyzes, and extracts key insights from diverse multimodal financial data sources; (ii) <i>summary of low-level reflection</i>, which identifies potential patterns in price movements and derives insights from market intelligence summaries; and (iii) <i>summary of high-level reflection</i>, which stores and reflects on past trading decisions. The stored summaries are subsequently used as inputs for other modules. For example, summaries of both past and latest market intelligence are provided as input data to the reflection prompts.
        </p>
      </section>

      <section id="fin-reflection" class="content-section">
        <h2 class="section-title">Reflection</h2>
        <p>
          FinAgent incorporates a dual-level reflection mechanism: (i) <i>Low-level reflection</i>, which analyzes price change data to reason about and identify potential patterns in market movements; and (ii) <i>High-level reflection</i>, which focuses on past trading decisions, summarizing overarching lessons from both successes and failures to recommend improvements and suggest corrective trading actions.
        </p>
        <div class="detail-box detail-box--has-divider">
          <div class="detail-box__header">
            <h4>Example of analyzing market dynamics with low-level reflection</h4>
          </div>
          <div class="detail-box__body">
            <p><strong>INPUT:</strong></p>
            <p><strong>Summaries of latest market intelligence:</strong> Positive sentiment prevails with expectations around Apple's new AR/VR...The overall market sentiment appears POSITIVE in the medium term...</p>
            <p><strong>Summaries of past market intelligence:</strong> Apple shows resilience and innovation strength, which are likely to maintain investor confidence and could drive the company's market value upward...</p>
            <p><strong>Kline chart:</strong></p>
            <img src="imgs/AAPL_kline.png" style="display: block; margin: 0 auto; width: 80%;" alt="Kline chart." />
            <p><strong>Task:</strong> As the above Kline chart shows, Short-Term (provided by <i>Market intelligence</i>): Over the past 1 day, the price movement ratio has shown an increase of 1.60%, Medium-Term (provided by <i>Market intelligence</i>): ... You should analyze the above information on the reasoning that lead to past to now price movements...</p>
            <br>
            <p><strong>Desired format:</strong><br>
            <i>reasoning:</i> This field will be used for trading decisions...provide the detailed reasoning to determine how the above information that lead to the price movements... <br>
            <i>query:</i> (tailored to enable focused retrieval of specific types of information) This field will be used to retrieve past reasoning for price movements...</p>
            <hr class="detail-divider" />
            <p><strong>OUTPUT:</strong></p>
            <strong>reasoning:</strong> The short-term price increase of 1.60% for Apple Inc. (AAPL) can be attributed to recent positive market sentiment surrounding Apple's upcoming AR/VR product line. Over the past week, AAPL has seen a 3.38% rise can be linked to positive expectations of new product releases...</br>
            <strong>query:</strong> Short-term growth in AAPL's price is driven by reactions to product excitement and concerns, medium-term gains come from the positive...</p>
          </div>
        </div>

        <div class="detail-box detail-box--has-divider">
          <div class="detail-box__header">
            <h4>Example of analyzing past decisions with high-level reflection</h4>
          </div>
          <div class="detail-box__body">
            <p><strong>INPUT:</strong></p>
            <p><strong>Summaries of latest market intelligence:</strong> Positive sentiment prevails with expectations around Apple's new AR/VR...The overall market sentiment appears POSITIVE in the medium term...</p>
            <p><strong>Summaries of past market intelligence:</strong> Apple shows resilience and innovation strength, which are likely to maintain investor confidence and could drive the company's market value upward... Reasoning of low-level reflection: The short-term price increase of 1.60% for AAPL can be attributed to recent positive market sentiment surrounding Apple's upcoming AR/VR product line...</p>
            <p><strong>Historical action and reasoning:</strong> Trading decision and reasoning made by your assistant for the past 14 days are as follows: 2023-06-01. BUY... The analysis indicates a bullish future trend, aligning with the need to consider a BUY in such a scenario...</p>
            <p><strong>Trading chart:</strong></p>
            <img src="imgs/AAPL_trading.png" style="display: block; margin: 0 auto; width: 80%;" alt="Trading chart." />
            <p><strong>Task in desired format:</strong><br>
            <strong>reasoning:</strong> You should reflect on the decisions made at each time were right or wrong and give reasoning...<br>
            <strong>improvement:</strong> If there are bad decisions, are you likely to revise them and maximize the return? If so, how would you revise them?...<br>
            <strong>summary:</strong> Provide a summary of the lessons learnt from the success / mistakes that can be adapted to future trading decisions...<br>
            <strong>query:</strong> (tailored to enable focused retrieval of specific types of information) This field will be used to retrieve past reflection of the decisions, so you should...
            <hr class="detail-divider" />
            <p><strong>OUTPUT:</strong></p>
            <p><strong>reasoning:</strong> The BUY decision made on 2023-06-01 appears to have been correct. This decision aligned well with the market sentiment and the Kline chart analysis...</br>
            <strong>improvement:</strong> However, constant vigilance and responsiveness to both upward and downward market signals are crucial. For future scenario balancing, it could involve dynamic trade adjustments such as setting stop-losses to mitigate risks...</br>
            <strong>summary:</strong> The success of the BUY decision on 2023-06-01 underscores the importance of comprehensive market analysis, incorporating factors such as market sentiment...</br>
            <strong>query:</strong> The price movement analysis and technical indicators provided a compelling case for a bullish trend, thereby justifying the action to buy...</p>
          </div>
        </div>
       
      </section>

      <p class="citation-intro">If you find this work helpful, please consider citing our paper:</p>
      <section class="citation-block">
        
        <pre><code>@article{hu2025llm_agents_tutorial,
  title={A Beginner-Friendly Tutorial on LLM-based Agents},
  author={Hu, Shuyue and Ren, Siyue and Chen, Yang and Mu, Chunjiang and Liu, Jinyi and Cui, Zhiyao and Zhang, Yiqun and Li, Hao and Zhou, Dongzhan and Xu, Jia and Zhang, Qiaosheng and Han, Chu and Zheng, Yan and Hao, Jianye and Wang, Zhen},
  year={2025},
  month={November},
  note={Manuscript in preparation}
}</code></pre>
      </section>
      <div class="page-nav">
        <a class="page-nav-btn" href="index.html">Back to Home</a>
        <a class="page-nav-btn primary" href="voyager.html">Next</a>
      </div>
    </main>

    <aside class="progress-sidebar col-12 col-xl-3 col-xxl-3 order-3 order-xl-3">
      <h2>On this page</h2>
      <ul class="progress-list">
        <li><a class="progress-link" data-target="fin-overview" href="#fin-overview">Overview</a></li>
        <li><a class="progress-link" data-target="fin-role" href="#fin-role">Role-play</a></li>
        <li><a class="progress-link" data-target="fin-memory" href="#fin-memory">Memory</a></li>
        <li><a class="progress-link" data-target="fin-reflection" href="#fin-reflection">Reflection</a></li>
      </ul>
      <div class="progress-meter"><div class="progress-meter-fill"></div></div>
    </aside>
    </div>
  </div>

  <footer class="footer"> hushuyue@pjlab.org.cn</footer>
</body>
</html>
